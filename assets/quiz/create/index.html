<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="../../css/index.css">
    <link rel="stylesheet" href="../../flashcard/style.css">
    <link rel="stylesheet" href="./quiz.css">
    <link rel="stylesheet" href="" class="userdef">
    <link rel="shortcut icon" href="../../images/efIQo.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/fontawesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Outfit">
    <title>efIQo | Quiz Maker</title>
    <script src="https://www.gstatic.com/firebasejs/11.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.7.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.7.0/firebase-firestore-compat.js"></script>
</head>

<body>
    <main>
        <header style="display: none;">
            <div class="header-img">
                <h1>
                    <img src="../../images/efiQo_logo.png" alt="" width="50">
                    efIQo
                </h1>
            </div>
            <nav hidden>
                <ul type="none" class="nav-ul">
                    <li class="theme-btn-wrap"><button onclick="TOGGLE_THEME(this)"
                            class="fa-solid fa-sun transparent-btn theme-btn" title="Toggle Theme"
                            value="device"></button></li>
                </ul>
            </nav>
        </header>
        <section id="quiz-data">
            <button style="padding-left: 1rem;" class="transparent-btn back-to-home" onclick="location.pathname = '/'">&larr;</button>
            <form autocomplete="off" spellcheck="false">
                <fieldset>
                    <legend>Quiz Information</legend>
                    <div class="field">
                        <input type="text" id="quiz-name" placeholder="Quiz Name"
                            oninput="validateInput(this, document.querySelector('#create-quiz-btn'))" />
                    </div>

                    <div class="field">
                        <textarea cols="30" rows="5" id="quiz-desc" placeholder="Description (Optional)"></textarea>
                    </div>

                    <div class="field">
                        <button type="submit" id="create-quiz-btn" disabled>Create Quiz</button>
                    </div>
                </fieldset>

                <div class="ai-btn">
                    <button class="transparent-btn" id="gen-btn" type="button">Create Quiz with Efi <img src="../../images/Efi2.png" alt="Efi" width="30"></button>
                </div>
            </form>

        </section>

        <section id="quiz-wrap" hidden>
            <div id="quiz-details"></div>

            <div id="quiz-form">
                <div class="field">
                    <textarea id="question" placeholder="QUESTION"
                        oninput="validateInput(this, document.querySelector('#create-question-btn'))"
                        autocomplete="off"></textarea>
                    <button type="button" id="create-question-btn"
                        onclick="createQuestion(this.previousElementSibling.value.trim())" disabled>Create
                        Question</button>
                </div>

                <div class="field" id="option" hidden>
                    <input id="option-input" placeholder="ADD OPTION"
                        oninput="validateInput(this, this.nextElementSibling)" autocomplete="off" />
                    <button type="button" id="add-option-btn" onclick="addOption(this.previousElementSibling)"
                        disabled>Add Option</button>
                </div>

                <div class="field" id="submit" hidden>
                    <button type="submit" id="add-to-quiz-btn">Add Question to Quiz</button>
                </div>

                <div class="field">
                    <!-- <button onclick="PREVIEW_QUIZ(ind)">Quiz Preview</button> -->
                </div>
            </div>

            <div id="question-preview"></div>
            <div id="quiz-preview-wrap" hidden>
                <div class="quiz-preview-actions">
                    <button class='back-btn transparent-btn'>&larr;</button>
                    <button class='fa-solid fa-trash transparent-btn' onclick="DELETE_QUESTION()"></button>
                </div>
                <div id="quiz-preview"></div>
                <div class="quiz-actions">
                    <button id="prev-btn" onclick="GO_TO_PREV_QUESTION()">Previous</button>
                    <button id="next-btn" onclick="GO_TO_NEXT_QUESTION()">Next</button>
                </div>
                <div class="attempt-btn-wrap">
                    <button onclick="window.open('../attempt/index.html', '_parent')">Attempt Quiz</button>
                </div>
            </div>
        </section>

        <section id="modalbg">
            <div id="modal">{text}</div>
        </section>

        <div class="pseudo loader-wrap">
            <div class="spinner"></div>
            <p><small>Please wait, this might take a while...</small></p>
        </div>

        <div class="pseudo buddy-loader">
            <div>
                <img src="../../images/Efi2.png" alt="Efi" width="120">
            </div>
            <p>Creating your quiz...</p>
        </div>
    </main>

    <script src="../../js/main.js"></script>
    <script src="../../js/signin.js"></script>
    <script src="../../js/db.js"></script>
    <script src="../../js/theme.js"></script>
    <script src="./quiz.js"></script>
    <script type="module" src="./generator.js"></script>
</body>

</html>